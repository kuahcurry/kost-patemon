<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin Dashboard - Kost Mewah Patemon Gombong</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;700&display=swap"
      rel="stylesheet"
    />
    <style>
      /* Color Palette */
      :root {
        --palette-black: #000000;
        --palette-gold: #eec55b;
        --palette-brown: #bf9c4a;
        --palette-darkbrown: #8a7037;
        --palette-beige: #f8e07a;
        --palette-light: #fefefe;

        /* Gradients */
        --gradient-sidebar: linear-gradient(180deg, #8a7037, #bf9c4a, #eec55b);
        --gradient-gold: linear-gradient(180deg, #eec55b, #f8e07a);
        --gradient-brown: linear-gradient(180deg, #bf9c4a, #a88544);
        --gradient-darkbrown: linear-gradient(180deg, #8a7037, #6d5a2b);
      }
      body {
        font-family: "Montserrat", Arial, sans-serif;
        background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
        color: #212529;
        min-height: 100vh;
        margin: 0;
        padding: 0;
        background-attachment: fixed;
        background-repeat: no-repeat;
        background-size: cover;
      }

      html {
        background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
        background-attachment: fixed;
        background-repeat: no-repeat;
        background-size: cover;
        height: 100%;
      }
      .sidebar {
        min-height: 100vh;
        background: linear-gradient(180deg, #8a7037, #eec55b);
        border-right: 1px solid rgba(238, 197, 91, 0.3);
        box-shadow: 0 20px 60px rgba(138, 112, 55, 0.15);
        padding-top: 24px;
        position: relative;
        overflow: hidden;
      }

      .sidebar::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(
          45deg,
          rgba(255, 255, 255, 0.1) 0%,
          transparent 50%
        );
        pointer-events: none;
      }
      .sidebar .nav-link.active {
        background: rgba(255, 255, 255, 0.4);
        color: #6d5a2b !important;
        font-weight: 700;
        border-radius: 15px;
        box-shadow: 0 8px 25px rgba(255, 255, 255, 0.2);
        letter-spacing: 0.5px;
        transform: translateX(5px);
        border: 1px solid rgba(255, 255, 255, 0.3);
        position: relative;
        z-index: 1;
        backdrop-filter: blur(10px);
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }
      .sidebar .nav-link {
        color: white;
        font-weight: 600;
        border-radius: 15px;
        margin-bottom: 10px;
        padding: 14px 20px;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        position: relative;
        overflow: hidden;
        z-index: 1;
        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
      }
      .sidebar .nav-link:hover {
        background: rgba(255, 255, 255, 0.2);
        color: white !important;
        box-shadow: 0 4px 15px rgba(255, 255, 255, 0.15);
        transform: translateX(8px);
        backdrop-filter: blur(10px);
      }

      /* Styling khusus untuk logout menu */
      .logout-menu {
        color: #ff4757 !important;
        position: relative;
        z-index: 1;
        text-transform: uppercase;
      }

      .logout-menu:hover {
        background: #ff4757 !important;
        color: white !important;
        box-shadow: 0 12px 35px rgba(255, 71, 87, 0.4) !important;
        transform: translateX(8px) scale(1.02) !important;
        border-color: rgba(255, 71, 87, 0.5);
      }

      .logout-menu i {
        color: #ff4757;
        font-size: 1.1rem;
        margin-right: 10px;
      }

      .logout-menu:hover i {
        color: white;
        transform: rotate(10deg);
      }

      .dashboard-header {
        background: #ffffff;
        backdrop-filter: blur(20px);
        border: 1px solid rgba(255, 255, 255, 0.3);
        padding: 40px 35px;
        border-radius: 25px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.08);
        color: #212529;
        margin-bottom: 25px;
        position: relative;
        overflow: hidden;
      }

      .dashboard-header::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(
          135deg,
          rgba(238, 197, 91, 0.03),
          rgba(248, 224, 122, 0.05)
        );
        pointer-events: none;
      }

      .breadcrumb {
        display: flex;
        align-items: center;
        gap: 12px;
        margin-bottom: 30px;
        flex-wrap: wrap;
      }

      .breadcrumb-link {
        display: flex;
        align-items: center;
        gap: 8px;
        color: #6c757d;
        text-decoration: none;
        font-weight: 600;
        font-size: 0.9rem;
        transition: all 0.3s ease;
        padding: 8px 16px;
        border-radius: 50px;
        background: rgba(108, 117, 125, 0.08);
        border: 1px solid rgba(108, 117, 125, 0.1);
      }

      .breadcrumb-link:hover {
        color: #eec55b;
        background: rgba(238, 197, 91, 0.15);
        text-decoration: none;
        transform: translateY(-1px);
        box-shadow: 0 4px 12px rgba(238, 197, 91, 0.2);
      }

      .breadcrumb-separator {
        color: #dee2e6;
        font-weight: 400;
        font-size: 1.1rem;
      }

      .breadcrumb-current {
        display: flex;
        align-items: center;
        gap: 8px;
        color: #eec55b;
        font-weight: 700;
        font-size: 0.9rem;
        padding: 8px 16px;
        border-radius: 50px;
        background: rgba(238, 197, 91, 0.15);
        border: 1px solid rgba(238, 197, 91, 0.2);
      }

      .hero-main {
        display: flex;
        align-items: center;
        gap: 25px;
        margin-bottom: 35px;
      }

      .hero-icon {
        background: linear-gradient(135deg, #eec55b, #f8e07a);
        width: 80px;
        height: 80px;
        border-radius: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 2rem;
        color: #6d5a2b;
        box-shadow: 0 10px 30px rgba(238, 197, 91, 0.3);
        flex-shrink: 0;
      }

      .hero-text {
        flex: 1;
      }
      .dashboard-header img {
        height: 50px;
        margin-right: 20px;
        filter: drop-shadow(0 4px 12px rgba(0, 0, 0, 0.1));
        position: relative;
        z-index: 1;
      }
      .dashboard-title {
        font-size: 2.8rem;
        font-weight: 900;
        background: linear-gradient(135deg, #2c3e50, #6d5a2b);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        letter-spacing: -1px;
        text-shadow: none;
        position: relative;
        z-index: 1;
        margin-bottom: 12px;
        line-height: 1.1;
      }

      .dashboard-subtitle {
        font-size: 1.2rem;
        color: #6c757d;
        font-weight: 500;
        line-height: 1.6;
        margin: 0;
        position: relative;
        z-index: 1;
      }

      /* Admin Welcome Section */
      .admin-welcome {
        background: linear-gradient(135deg, #eec55b, #f8e07a);
        color: #6d5a2b;
        padding: 25px 35px;
        border-radius: 25px;
        margin-bottom: 30px;
        box-shadow: 0 15px 45px rgba(238, 197, 91, 0.25);
        border: 1px solid rgba(255, 255, 255, 0.4);
        position: relative;
        overflow: hidden;
        backdrop-filter: blur(20px);
      }

      .admin-welcome::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(
          45deg,
          rgba(255, 255, 255, 0.1) 0%,
          transparent 50%
        );
        pointer-events: none;
      }

      .admin-welcome-content {
        display: flex;
        align-items: center;
        gap: 25px;
        position: relative;
        z-index: 1;
      }

      .admin-welcome-avatar {
        width: 65px;
        height: 65px;
        background: rgba(255, 255, 255, 0.9);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.9rem;
        color: #6d5a2b;
        box-shadow: 0 8px 25px rgba(255, 255, 255, 0.3);
        flex-shrink: 0;
        border: 2px solid rgba(255, 255, 255, 0.5);
        transition: all 0.3s ease;
      }

      .admin-welcome-text {
        flex: 1;
      }

      .admin-welcome-title {
        font-size: 1.5rem;
        font-weight: 800;
        margin-bottom: 8px;
        color: #6d5a2b;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        line-height: 1.2;
      }

      .admin-welcome-subtitle {
        font-size: 1rem;
        color: #8a7037;
        font-weight: 600;
        margin: 0 0 5px 0;
        opacity: 0.9;
      }

      .admin-welcome-time {
        font-size: 0.9rem;
        color: #8a7037;
        font-weight: 500;
        margin-top: 5px;
        opacity: 0.8;
        font-style: italic;
      }
      .card {
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(20px);
        border-radius: 20px;
        box-shadow: 0 15px 45px rgba(0, 0, 0, 0.08);
        border: 1px solid rgba(255, 255, 255, 0.3);
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        position: relative;
        overflow: hidden;
      }

      .card::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(
          135deg,
          rgba(238, 197, 91, 0.02),
          rgba(248, 224, 122, 0.03)
        );
        pointer-events: none;
      }

      .card:hover {
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.12);
        transform: translateY(-8px);
        background: rgba(255, 255, 255, 0.98);
      }

      .card-icon {
        transition: all 0.3s ease;
      }

      .card:hover .card-icon {
        transform: scale(1.1);
      }

      .card-title {
        color: #2c3e50;
        font-weight: 700;
        font-size: 1.1rem;
        margin-bottom: 15px;
        letter-spacing: 0.3px;
        position: relative;
        z-index: 1;
      }

      .card-subtitle {
        position: relative;
        z-index: 1;
      }
      .status-badge {
        font-size: 0.85rem;
        border-radius: 25px;
        padding: 6px 16px;
        font-weight: 700;
        letter-spacing: 0.3px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        border: 1px solid transparent;
        transition: all 0.3s ease;
        text-transform: uppercase;
      }
      .badge.bg-success.status-badge {
        background: linear-gradient(135deg, #27ae60, #2ecc71) !important;
        color: #fff !important;
        box-shadow: 0 4px 15px rgba(39, 174, 96, 0.3);
      }
      .badge.bg-success.status-badge:hover {
        box-shadow: 0 6px 20px rgba(39, 174, 96, 0.4);
        transform: translateY(-2px);
      }
      .badge.bg-warning.status-badge,
      .badge.bg-warning.text-dark.status-badge {
        background: linear-gradient(135deg, #f39c12, #e67e22) !important;
        color: white !important;
        box-shadow: 0 4px 15px rgba(243, 156, 18, 0.3);
      }
      .badge.bg-warning.status-badge:hover {
        box-shadow: 0 6px 20px rgba(243, 156, 18, 0.4);
        transform: translateY(-2px);
      }
      .badge.bg-danger.status-badge {
        background: linear-gradient(135deg, #e74c3c, #c0392b) !important;
        color: #fff !important;
        box-shadow: 0 4px 15px rgba(231, 76, 60, 0.3);
      }
      .badge.bg-danger.status-badge:hover {
        box-shadow: 0 6px 20px rgba(231, 76, 60, 0.4);
        transform: translateY(-2px);
      }
      .table thead {
        background: linear-gradient(135deg, #eec55b, #f8e07a);
        border-radius: 12px 12px 0 0;
      }
      .table th {
        color: #6d5a2b;
        font-weight: 700;
        font-size: 0.95rem;
        letter-spacing: 0.3px;
        padding: 16px 12px;
        border: none;
        text-shadow: none;
      }

      .table {
        border-radius: 25px;
        overflow: hidden;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.2);
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(20px);
      }

      .table td {
        padding: 30px 35px;
        border-color: rgba(0, 0, 0, 0.05);
        vertical-align: middle;
        color: #2c3e50;
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .table tbody tr {
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        position: relative;
      }

      .table tbody tr:hover {
        background: linear-gradient(
          135deg,
          rgba(248, 224, 122, 0.03),
          rgba(238, 197, 91, 0.03)
        );
        transform: translateY(-2px);
      }

      .payment-item:hover {
        background: linear-gradient(
          135deg,
          rgba(248, 224, 122, 0.03),
          rgba(238, 197, 91, 0.03)
        );
        transform: translateY(-2px);
      }
      .list-group-item {
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(20px);
        color: #2c3e50;
        border: 1px solid rgba(255, 255, 255, 0.3);
        border-bottom: 1px solid rgba(0, 0, 0, 0.05);
        font-weight: 600;
        font-size: 1rem;
        letter-spacing: 0.2px;
        padding: 15px 20px;
        transition: all 0.3s ease;
      }
      .list-group-item:hover {
        background: linear-gradient(
          135deg,
          rgba(248, 224, 122, 0.05),
          rgba(238, 197, 91, 0.05)
        );
        transform: translateX(5px);
        padding-left: 25px;
      }
      .list-group-item:last-child {
        border-bottom: 1px solid rgba(255, 255, 255, 0.3);
      }
      /* Animasi dan efek tambahan */
      .card,
      .dashboard-header,
      .sidebar,
      .status-badge {
        transition: box-shadow 0.18s, background 0.18s, color 0.18s;
      }
      .dashboard-title,
      .card-title {
        transition: color 0.18s, text-shadow 0.18s;
      }

      .fade-in {
        animation: fadeIn 0.5s ease-in;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      #lihatSelengkapnyaBtn:hover {
        background: rgba(255, 255, 255, 1) !important;
        color: #6d5a2b !important;
        border-color: rgba(255, 255, 255, 0.8) !important;
        box-shadow: 0 6px 20px rgba(255, 255, 255, 0.5);
        transform: translateY(-2px) scale(1.05);
      }

      /* Action buttons */
      .btn-outline-primary {
        border-color: #3498db;
        color: #3498db;
        border-radius: 50px;
        font-weight: 600;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .btn-outline-primary:hover {
        background: linear-gradient(135deg, #3498db, #2980b9);
        color: white;
        border-color: #3498db;
        box-shadow: 0 8px 25px rgba(52, 152, 219, 0.3);
        transform: translateY(-2px);
      }

      .btn-outline-danger {
        border-color: #e74c3c;
        color: #e74c3c;
        border-radius: 50px;
        font-weight: 600;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .btn-outline-danger:hover {
        background: linear-gradient(135deg, #e74c3c, #c0392b);
        color: white;
        border-color: #e74c3c;
        box-shadow: 0 8px 25px rgba(231, 76, 60, 0.3);
        transform: translateY(-2px);
      }
      @media (max-width: 991px) {
        .sidebar {
          min-height: auto;
          background: linear-gradient(180deg, #8a7037, #bf9c4a, #eec55b);
          border-radius: 25px;
          margin-bottom: 15px;
          box-shadow: 0 20px 60px rgba(138, 112, 55, 0.15);
          border: 1px solid rgba(238, 197, 91, 0.3);
        }

        .dashboard-header {
          padding: 30px 20px;
          border-radius: 25px;
        }

        .dashboard-title {
          font-size: 2.2rem;
        }

        .dashboard-subtitle {
          font-size: 1.1rem;
        }

        .hero-main {
          flex-direction: column;
          text-align: center;
          gap: 20px;
          margin-bottom: 25px;
        }

        .hero-icon {
          width: 70px;
          height: 70px;
          font-size: 1.8rem;
        }

        .card {
          margin-bottom: 15px;
        }

        .table tbody tr td {
          padding: 20px 15px;
        }

        .payment-period .period-label {
          font-size: 1.1rem;
        }

        .payment-amount .amount-value {
          font-size: 1rem;
        }

        /* Admin Welcome Responsive */
        .admin-welcome {
          padding: 20px 25px;
          margin-bottom: 25px;
        }

        .admin-welcome-content {
          flex-direction: column;
          text-align: center;
          gap: 20px;
        }

        .admin-welcome-avatar {
          width: 55px;
          height: 55px;
          font-size: 1.6rem;
        }

        .admin-welcome-title {
          font-size: 1.3rem;
        }

        .admin-welcome-subtitle {
          font-size: 0.9rem;
        }

        .admin-welcome-time {
          font-size: 0.8rem;
        }

        .card-icon {
          margin-bottom: 15px !important;
        }

        .card-icon i {
          font-size: 2rem !important;
        }
      }
    </style>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
    />
    <style>
      /* Toast Message Styles */
      .toast {
        position: fixed;
        top: 20px;
        right: 20px;
        background: linear-gradient(135deg, #eec55b, #f8e07a);
        color: #6d5a2b;
        padding: 20px 25px;
        border-radius: 25px;
        box-shadow: 0 20px 60px rgba(238, 197, 91, 0.3);
        z-index: 10000;
        display: flex;
        align-items: center;
        gap: 15px;
        font-weight: 600;
        font-size: 0.95rem;
        min-width: 350px;
        max-width: 450px;
        transform: translateX(100%);
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        backdrop-filter: blur(20px);
        border: 1px solid rgba(255, 255, 255, 0.4);
      }

      .toast.welcome {
        background: linear-gradient(135deg, #27ae60, #2ecc71);
        color: white;
        box-shadow: 0 20px 60px rgba(39, 174, 96, 0.3);
        border: 1px solid rgba(255, 255, 255, 0.3);
        min-width: 400px;
        padding: 25px 30px;
      }

      .toast.welcome .toast-icon {
        background: rgba(255, 255, 255, 0.2);
        border-radius: 50%;
        width: 50px;
        height: 50px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5rem;
        flex-shrink: 0;
        box-shadow: 0 4px 12px rgba(255, 255, 255, 0.2);
      }

      .toast.welcome .toast-content {
        flex: 1;
      }

      .toast.welcome .toast-title {
        font-size: 1.2rem;
        font-weight: 800;
        margin-bottom: 5px;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }

      .toast.welcome .toast-subtitle {
        font-size: 0.9rem;
        opacity: 0.9;
        margin-bottom: 3px;
      }

      .toast.welcome .toast-time {
        font-size: 0.8rem;
        opacity: 0.8;
        font-style: italic;
      }

      .toast.show {
        transform: translateX(0);
      }

      .toast.hide {
        transform: translateX(100%);
      }

      .toast.error {
        background: linear-gradient(135deg, #e74c3c, #c0392b);
        color: white;
        box-shadow: 0 20px 60px rgba(231, 76, 60, 0.3);
      }

      .toast.warning {
        background: linear-gradient(135deg, #f39c12, #e67e22);
        color: white;
        box-shadow: 0 20px 60px rgba(243, 156, 18, 0.3);
      }

      .toast.info {
        background: linear-gradient(135deg, #3498db, #2980b9);
        color: white;
        box-shadow: 0 20px 60px rgba(52, 152, 219, 0.3);
      }

      .toast-icon {
        font-size: 1.2rem;
        flex-shrink: 0;
      }

      .toast-message {
        flex: 1;
        line-height: 1.4;
      }

      .toast-close {
        background: none;
        border: none;
        color: currentColor;
        font-size: 1.1rem;
        cursor: pointer;
        opacity: 0.8;
        transition: opacity 0.3s ease;
        padding: 4px;
        border-radius: 50%;
      }

      .toast-close:hover {
        opacity: 1;
        background: rgba(255, 255, 255, 0.1);
      }

      .toast:not(.error):not(.warning):not(.info) .toast-close {
        color: #6d5a2b;
      }

      .toast:not(.error):not(.warning):not(.info) .toast-close:hover {
        background: rgba(109, 90, 43, 0.1);
      }

      @media (max-width: 768px) {
        .toast {
          right: 15px;
          left: 15px;
          min-width: auto;
          max-width: none;
          transform: translateY(-100%);
        }

        .toast.welcome {
          min-width: auto;
          padding: 20px 25px;
        }

        .toast.welcome .toast-icon {
          width: 45px;
          height: 45px;
          font-size: 1.3rem;
        }

        .toast.welcome .toast-title {
          font-size: 1.1rem;
        }

        .toast.show {
          transform: translateY(0);
        }

        .toast.hide {
          transform: translateY(-100%);
        }
      }

      /* Confirmation Modal Styles */
      .confirm-modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        backdrop-filter: blur(5px);
        z-index: 10000;
        display: flex;
        align-items: center;
        justify-content: center;
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s ease;
      }

      .confirm-modal-overlay.show {
        opacity: 1;
        visibility: visible;
      }

      .confirm-modal {
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(20px);
        border-radius: 25px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
        max-width: 400px;
        width: 90%;
        max-height: 80vh;
        overflow: hidden;
        transform: scale(0.9) translateY(20px);
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        border: 1px solid rgba(255, 255, 255, 0.3);
      }

      .confirm-modal-overlay.show .confirm-modal {
        transform: scale(1) translateY(0);
      }

      .confirm-modal-header {
        background: linear-gradient(135deg, #eec55b, #f8e07a);
        color: #6d5a2b;
        padding: 20px;
        border-bottom: 1px solid rgba(255, 255, 255, 0.3);
      }

      .confirm-modal-header h4 {
        margin: 0;
        font-weight: 600;
        font-size: 1.2rem;
      }

      .confirm-modal-body {
        padding: 20px;
        color: #2c3e50;
      }

      .confirm-modal-body p {
        margin: 0;
        font-size: 1rem;
        line-height: 1.5;
      }

      .confirm-modal-footer {
        padding: 20px;
        border-top: 1px solid rgba(0, 0, 0, 0.05);
        display: flex;
        justify-content: flex-end;
        gap: 10px;
      }

      .confirm-modal-footer .btn {
        padding: 8px 20px;
        border: none;
        border-radius: 50px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .confirm-modal-footer .btn-secondary {
        background: #6c757d;
        color: white;
      }

      .confirm-modal-footer .btn-secondary:hover {
        background: #5a6268;
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(108, 117, 125, 0.3);
      }

      .confirm-modal-footer .btn-primary {
        background: #ff4757;
        color: white;
      }

      .confirm-modal-footer .btn-primary:hover {
        background: white;
        color: #ff4757;
        transform: translateY(-2px);
        box-shadow: 0 8px 25px #ff4757;
      }

      /* Responsive Design */
      @media (max-width: 768px) {
        .confirm-modal {
          margin: 20px;
          max-width: none;
          width: calc(100% - 40px);
        }

        .confirm-modal-footer {
          flex-direction: column;
        }

        .confirm-modal-footer .btn {
          width: 100%;
        }
      }
    </style>
  </head>
  <body>
    <div class="container-fluid">
      <div class="row">
        <!-- Sidebar -->
        <nav class="col-md-2 d-none d-md-block sidebar py-4">
          <div class="text-center mb-4">
            <div>
              <img
                src="../Image/LogoTeks1.png"
                alt="Logo"
                style="height: 200px; transition: transform 0.3s ease"
              />
            </div>
          </div>
          <ul class="nav flex-column">
            <li class="nav-item">
              <a class="nav-link active" href="admin-dashboard.html"
                ><i class="bi bi-speedometer2 me-2"></i>Dashboard</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="admin-pending-reservasi.html"
                ><i class="bi bi-clock-history me-2"></i>Pending Reservasi</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="admin-reservasi.html"
                ><i class="bi bi-calendar-check me-2"></i>Reservasi</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="admin-pembayaran.html"
                ><i class="bi bi-credit-card me-2"></i>Pembayaran</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="data-kamar-admin.html"
                ><i class="bi bi-door-closed me-2"></i>Data Kamar</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="user-admin.html"
                ><i class="bi bi-person-check me-2"></i>Data Akun</a
              >
            </li>
            <li class="nav-item mt-2">
              <a class="nav-link logout-menu" href="#" id="adminLogoutBtn"
                ><i class="bi bi-box-arrow-right me-2"></i>Logout</a
              >
            </li>
          </ul>
        </nav>
        <!-- Main Content -->
        <main class="col-md-10 ms-sm-auto px-md-5 py-4 fade-in">
          <div class="dashboard-header mb-4 fade-in">
            <div class="hero-content">
              <div class="breadcrumb">
                <span class="breadcrumb-current">
                  <i class="bi bi-speedometer2 me-2"></i>
                  <span>Dashboard Admin</span>
                </span>
              </div>

              <div class="hero-main">
                <div class="hero-icon">
                  <div
                    style="
                      background: linear-gradient(135deg, #eec55b, #f8e07a);
                      border-radius: 20px;
                      width: 80px;
                      height: 80px;
                      display: flex;
                      color: #6d5a2b;
                      align-items: center;
                      justify-content: center;
                      transition: all 0.3s ease;
                      box-shadow: 0 10px 30px rgba(238, 197, 91, 0.3);
                    "
                  >
                    <i class="bi bi-speedometer2" style="font-size: 2rem"></i>
                  </div>
                </div>
                <div class="hero-text">
                  <h1 class="dashboard-title">Dashboard Admin</h1>
                  <p class="dashboard-subtitle">
                    Kelola sistem kost dengan mudah dan efisien
                  </p>
                </div>
              </div>
            </div>
          </div>

          <!-- Bootstrap Icons -->
          <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
          />
          <div class="row g-4 mb-5 fade-in">
            <div class="col-md-4">
              <div class="card p-4 text-center">
                <div class="card-icon mb-3">
                  <i
                    class="fas fa-bed"
                    style="font-size: 2.5rem; color: #eec55b; opacity: 0.8"
                  ></i>
                </div>
                <div class="card-title mb-2">Total Kamar</div>
                <div class="display-6 fw-bold text-primary">16</div>
                <div class="card-subtitle mt-2">
                  <small class="text-muted">Kapasitas penuh</small>
                </div>
              </div>
            </div>
            <div class="col-md-4">
              <div class="card p-4 text-center">
                <div class="card-icon mb-3">
                  <i
                    class="fas fa-users"
                    style="font-size: 2.5rem; color: #27ae60; opacity: 0.8"
                  ></i>
                </div>
                <div class="card-title mb-2">Penghuni Aktif</div>
                <div class="display-6 fw-bold text-success">12</div>
                <div class="card-subtitle mt-2">
                  <small class="text-muted">75% terisi</small>
                </div>
              </div>
            </div>
            <div class="col-md-4">
              <div class="card p-4 text-center">
                <div class="card-icon mb-3">
                  <i
                    class="fas fa-money-bill-wave"
                    style="font-size: 2.5rem; color: #f39c12; opacity: 0.8"
                  ></i>
                </div>
                <div class="card-title mb-2">Pembayaran Bulan Ini</div>
                <div class="display-6 fw-bold text-warning">Rp 7.200.000</div>
                <div class="card-subtitle mt-2">
                  <small class="text-muted">Juli 2025</small>
                </div>
              </div>
            </div>
          </div>
          <div class="card mb-5 fade-in">
            <div
              class="card-header"
              style="
                background: linear-gradient(135deg, #f8e07a, #eec55b);
                padding: 25px 35px;
                display: flex;
                justify-content: space-between;
                align-items: center;
                position: relative;
                overflow: hidden;
                border-radius: 20px 20px 0 0;
                border-bottom: 1px solid rgba(255, 255, 255, 0.2);
              "
            >
              <div
                class="card-header::before"
                style="
                  content: '';
                  position: absolute;
                  top: 0;
                  left: 0;
                  right: 0;
                  bottom: 0;
                  background: linear-gradient(
                    45deg,
                    rgba(255, 255, 255, 0.1) 0%,
                    transparent 50%
                  );
                  pointer-events: none;
                "
              ></div>
              <div
                style="
                  display: flex;
                  align-items: center;
                  gap: 15px;
                  position: relative;
                  z-index: 1;
                "
              >
                <div
                  style="
                    background: rgba(255, 255, 255, 0.8);
                    border-radius: 50%;
                    width: 50px;
                    height: 50px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    box-shadow: 0 4px 12px rgba(255, 255, 255, 0.3);
                  "
                >
                  <i
                    class="fas fa-list-alt"
                    style="font-size: 1.3rem; color: #6d5a2b"
                  ></i>
                </div>
                <h2
                  class="card-title mb-0"
                  style="
                    font-size: 1.6rem;
                    font-weight: 800;
                    color: #6d5a2b;
                    margin: 0;
                    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
                  "
                >
                  Status Reservasi
                </h2>
              </div>
              <a
                href="admin-reservasi.html"
                id="lihatSelengkapnyaBtn"
                class="btn btn-sm"
                style="
                  background: rgba(255, 255, 255, 0.9);
                  color: #6d5a2b;
                  border: 1px solid rgba(255, 255, 255, 0.6);
                  font-weight: 700;
                  border-radius: 25px;
                  padding: 10px 20px;
                  font-size: 0.85rem;
                  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
                  text-decoration: none;
                  backdrop-filter: blur(10px);
                  text-transform: uppercase;
                  letter-spacing: 0.5px;
                  position: relative;
                  z-index: 1;
                  box-shadow: 0 4px 12px rgba(255, 255, 255, 0.3);
                "
              >
                <i
                  class="fas fa-external-link-alt me-2"
                  style="font-size: 0.8rem"
                ></i>
                Lihat Selengkapnya
              </a>
            </div>
            <div class="card-body" style="padding: 0">
              <div
                class="d-flex justify-content-between align-items-center mb-3"
                style="display: none !important"
              >
                <div class="card-title mb-0">Status Reservasi</div>
              </div>
              <div class="table-responsive">
                <table class="table align-middle" style="margin-bottom: 0">
                  <thead style="display: none">
                    <tr>
                      <th>Nama</th>
                      <th>Kamar</th>
                      <th>Tanggal Reservasi</th>
                      <th>Periode</th>
                      <th>Status</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr
                      class="payment-item"
                      style="
                        border-bottom: 1px solid rgba(0, 0, 0, 0.05);
                        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
                      "
                    >
                      <td
                        class="payment-period"
                        style="position: relative; padding: 30px 35px"
                      >
                        <div
                          class="period-label"
                          style="
                            font-size: 1.2rem;
                            font-weight: 800;
                            color: #2c3e50;
                            margin-bottom: 8px;
                            letter-spacing: -0.5px;
                          "
                        >
                          Putri A
                        </div>
                        <div
                          class="period-date"
                          style="
                            font-size: 0.9rem;
                            color: #6c757d;
                            font-weight: 500;
                          "
                        >
                          Kamar 101
                        </div>
                      </td>
                      <td
                        class="payment-amount"
                        style="
                          text-align: center;
                          position: relative;
                          padding: 30px 35px;
                        "
                      >
                        <div
                          class="amount-label"
                          style="
                            font-size: 0.85rem;
                            color: #6c757d;
                            margin-bottom: 8px;
                            text-transform: uppercase;
                            letter-spacing: 0.5px;
                            font-weight: 600;
                          "
                        >
                          Tanggal Reservasi
                        </div>
                        <div
                          class="amount-value"
                          style="
                            font-size: 1.1rem;
                            font-weight: 700;
                            color: #2c3e50;
                          "
                        >
                          01/07/2025
                        </div>
                      </td>
                      <td
                        class="payment-period-info"
                        style="text-align: center; padding: 30px 35px"
                      >
                        <div
                          class="period-label"
                          style="
                            font-size: 0.85rem;
                            color: #6c757d;
                            margin-bottom: 8px;
                            text-transform: uppercase;
                            letter-spacing: 0.5px;
                            font-weight: 600;
                          "
                        >
                          Periode
                        </div>
                        <div
                          class="period-value"
                          style="
                            font-size: 1.1rem;
                            font-weight: 700;
                            color: #2c3e50;
                          "
                        >
                          Juli 2025
                        </div>
                      </td>
                      <td
                        class="payment-status"
                        style="text-align: center; padding: 30px 35px"
                      >
                        <span class="badge bg-success status-badge">Lunas</span>
                      </td>
                    </tr>
                    <tr
                      class="payment-item"
                      style="
                        border-bottom: 1px solid rgba(0, 0, 0, 0.05);
                        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
                      "
                    >
                      <td
                        class="payment-period"
                        style="position: relative; padding: 30px 35px"
                      >
                        <div
                          class="period-label"
                          style="
                            font-size: 1.2rem;
                            font-weight: 800;
                            color: #2c3e50;
                            margin-bottom: 8px;
                            letter-spacing: -0.5px;
                          "
                        >
                          Putri B
                        </div>
                        <div
                          class="period-date"
                          style="
                            font-size: 0.9rem;
                            color: #6c757d;
                            font-weight: 500;
                          "
                        >
                          Kamar 102
                        </div>
                      </td>
                      <td
                        class="payment-amount"
                        style="
                          text-align: center;
                          position: relative;
                          padding: 30px 35px;
                        "
                      >
                        <div
                          class="amount-label"
                          style="
                            font-size: 0.85rem;
                            color: #6c757d;
                            margin-bottom: 8px;
                            text-transform: uppercase;
                            letter-spacing: 0.5px;
                            font-weight: 600;
                          "
                        >
                          Tanggal Reservasi
                        </div>
                        <div
                          class="amount-value"
                          style="
                            font-size: 1.1rem;
                            font-weight: 700;
                            color: #2c3e50;
                          "
                        >
                          02/07/2025
                        </div>
                      </td>
                      <td
                        class="payment-period-info"
                        style="text-align: center; padding: 30px 35px"
                      >
                        <div
                          class="period-label"
                          style="
                            font-size: 0.85rem;
                            color: #6c757d;
                            margin-bottom: 8px;
                            text-transform: uppercase;
                            letter-spacing: 0.5px;
                            font-weight: 600;
                          "
                        >
                          Periode
                        </div>
                        <div
                          class="period-value"
                          style="
                            font-size: 1.1rem;
                            font-weight: 700;
                            color: #2c3e50;
                          "
                        >
                          Juli 2025
                        </div>
                      </td>
                      <td
                        class="payment-status"
                        style="text-align: center; padding: 30px 35px"
                      >
                        <span class="badge bg-warning text-dark status-badge"
                          >Belum Bayar</span
                        >
                      </td>
                    </tr>
                    <tr
                      class="payment-item"
                      style="
                        border-bottom: none;
                        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
                      "
                    >
                      <td
                        class="payment-period"
                        style="position: relative; padding: 30px 35px"
                      >
                        <div
                          class="period-label"
                          style="
                            font-size: 1.2rem;
                            font-weight: 800;
                            color: #2c3e50;
                            margin-bottom: 8px;
                            letter-spacing: -0.5px;
                          "
                        >
                          Putri C
                        </div>
                        <div
                          class="period-date"
                          style="
                            font-size: 0.9rem;
                            color: #6c757d;
                            font-weight: 500;
                          "
                        >
                          Kamar 103
                        </div>
                      </td>
                      <td
                        class="payment-amount"
                        style="
                          text-align: center;
                          position: relative;
                          padding: 30px 35px;
                        "
                      >
                        <div
                          class="amount-label"
                          style="
                            font-size: 0.85rem;
                            color: #6c757d;
                            margin-bottom: 8px;
                            text-transform: uppercase;
                            letter-spacing: 0.5px;
                            font-weight: 600;
                          "
                        >
                          Tanggal Reservasi
                        </div>
                        <div
                          class="amount-value"
                          style="
                            font-size: 1.1rem;
                            font-weight: 700;
                            color: #2c3e50;
                          "
                        >
                          02/07/2025
                        </div>
                      </td>
                      <td
                        class="payment-period-info"
                        style="text-align: center; padding: 30px 35px"
                      >
                        <div
                          class="period-label"
                          style="
                            font-size: 0.85rem;
                            color: #6c757d;
                            margin-bottom: 8px;
                            text-transform: uppercase;
                            letter-spacing: 0.5px;
                            font-weight: 600;
                          "
                        >
                          Periode
                        </div>
                        <div
                          class="period-value"
                          style="
                            font-size: 1.1rem;
                            font-weight: 700;
                            color: #2c3e50;
                          "
                        >
                          Juni 2025
                        </div>
                      </td>
                      <td
                        class="payment-status"
                        style="text-align: center; padding: 30px 35px"
                      >
                        <span class="badge bg-secondary status-badge"
                          >Selesai</span
                        >
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </main>
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../js/auth.js"></script>
    <script>
      // Toast Message Functions
      function showToast(message, type = "success", duration = 4000) {
        // Remove existing toast if any
        const existingToast = document.querySelector(".toast");
        if (existingToast) {
          existingToast.remove();
        }

        // Create toast element
        const toast = document.createElement("div");
        toast.className = `toast ${type}`;

        // Set icon based on type
        let iconClass = "fa-check-circle";
        switch (type) {
          case "error":
            iconClass = "fa-exclamation-triangle";
            break;
          case "warning":
            iconClass = "fa-exclamation-circle";
            break;
          case "info":
            iconClass = "fa-info-circle";
            break;
          default:
            iconClass = "fa-check-circle";
        }

        toast.innerHTML = `
          <div class="toast-icon">
            <i class="fas ${iconClass}"></i>
          </div>
          <div class="toast-message">${message}</div>
          <button class="toast-close" onclick="hideToast()">
            <i class="fas fa-times"></i>
          </button>
        `;

        // Add to body
        document.body.appendChild(toast);

        // Show toast with animation
        setTimeout(() => {
          toast.classList.add("show");
        }, 100);

        // Auto hide after specified duration
        setTimeout(() => {
          hideToast();
        }, duration);
      }

      // Function to hide toast
      function hideToast() {
        const toast = document.querySelector(".toast");
        if (toast) {
          toast.classList.add("hide");
          setTimeout(() => {
            toast.remove();
          }, 400);
        }
      }

      // Function to show success toast
      function showSuccessToast(message) {
        showToast(message, "success");
      }

      // Function to show error toast
      function showErrorToast(message) {
        showToast(message, "error");
      }

      // Function to show warning toast
      function showWarningToast(message) {
        showToast(message, "warning");
      }

      // Function to show info toast
      function showInfoToast(message) {
        showToast(message, "info");
      }

      // Function to show welcome toast
      function showWelcomeToast(adminName) {
        // Remove existing toast if any
        const existingToast = document.querySelector(".toast");
        if (existingToast) {
          existingToast.remove();
        }

        // Get current date and time
        const now = new Date();
        const options = {
          weekday: "long",
          year: "numeric",
          month: "long",
          day: "numeric",
          hour: "2-digit",
          minute: "2-digit",
          timeZone: "Asia/Jakarta",
        };
        const formattedDateTime = now.toLocaleDateString("id-ID", options);

        // Create welcome toast element
        const toast = document.createElement("div");
        toast.className = "toast welcome";

        toast.innerHTML = `
          <div class="toast-icon">
            <i class="fas fa-user-shield"></i>
          </div>
          <div class="toast-content">
            <div class="toast-title">Selamat Datang, ${adminName}!</div>
            <div class="toast-subtitle">Anda masuk sebagai Administrator Sistem</div>
            <div class="toast-time">${formattedDateTime}</div>
          </div>
          <button class="toast-close" onclick="hideToast()" style="
            background: none;
            border: none;
            color: white;
            font-size: 1.1rem;
            cursor: pointer;
            opacity: 0.8;
            transition: opacity 0.3s ease;
            padding: 4px;
            border-radius: 50%;
            margin-left: 10px;
          ">
            <i class="fas fa-times"></i>
          </button>
        `;

        // Add to body
        document.body.appendChild(toast);

        // Show toast with animation
        setTimeout(() => {
          toast.classList.add("show");
        }, 100);

        // Auto hide after 6 seconds (longer for welcome message)
        setTimeout(() => {
          hideToast();
        }, 6000);
      }

      // Proteksi halaman admin
      document.addEventListener("DOMContentLoaded", function () {
        if (!requireAdmin()) {
          return;
        }

        // Tampilkan informasi user yang sedang login
        const user = getLoggedInUser();
        if (user) {
          // Tampilkan nama admin di welcome section hanya sekali per sesi login
          displayAdminInfo(user);
          console.log("Admin logged in:", user.nama);
        }

        // Update current date and time
        updateCurrentDateTime();

        // Setup event listeners
        setupAdminEventListeners();
      });

      // Fungsi untuk menampilkan info admin
      function displayAdminInfo(user) {
        // Check if welcome toast has already been shown for this login session
        const welcomeShown = localStorage.getItem("admin_welcome_shown");
        const currentLoginTime = localStorage.getItem("login_time");

        // Show welcome toast only if it hasn't been shown for this login session
        if (user.nama && (!welcomeShown || welcomeShown !== currentLoginTime)) {
          showWelcomeToast(user.nama);
          // Mark welcome as shown for this login session
          localStorage.setItem(
            "admin_welcome_shown",
            currentLoginTime || new Date().getTime().toString()
          );
        }
      }

      // Fungsi untuk update waktu saat ini
      function updateCurrentDateTime() {
        const dateTimeElement = document.getElementById("currentDateTime");
        if (dateTimeElement) {
          const now = new Date();
          const options = {
            weekday: "long",
            year: "numeric",
            month: "long",
            day: "numeric",
            hour: "2-digit",
            minute: "2-digit",
            timeZone: "Asia/Jakarta",
          };
          const formattedDateTime = now.toLocaleDateString("id-ID", options);
          dateTimeElement.textContent = formattedDateTime;

          // Update time every minute
          setInterval(() => {
            const now = new Date();
            const formattedDateTime = now.toLocaleDateString("id-ID", options);
            dateTimeElement.textContent = formattedDateTime;
          }, 60000);
        }
      }

      // Setup event listeners untuk admin
      function setupAdminEventListeners() {
        // Event listener untuk logout menu
        const logoutBtn = document.getElementById("adminLogoutBtn");
        if (logoutBtn) {
          logoutBtn.addEventListener("click", function (e) {
            e.preventDefault();
            handleAdminLogout();
          });
        }

        // Event listener untuk logout button dengan class (backup)
        const logoutBtnClass = document.querySelector(".logout-btn");
        if (logoutBtnClass) {
          logoutBtnClass.addEventListener("click", function (e) {
            e.preventDefault();
            handleAdminLogout();
          });
        }
      }

      // Fungsi untuk logout admin
      function handleAdminLogout() {
        showConfirmModal(
          "Konfirmasi Logout",
          "Apakah Anda yakin ingin logout dari admin dashboard?",
          function () {
            // Tambahan logging untuk audit
            console.log("Admin logout:", new Date().toISOString());

            // Clear welcome toast flag when logging out
            localStorage.removeItem("admin_welcome_shown");

            // Panggil fungsi logout dari auth.js
            logout();
          }
        );
      }

      // Proteksi tambahan - cek sesi admin setiap 30 detik
      setInterval(function () {
        if (!isUserLoggedIn() || !isAdmin()) {
          showErrorToast(
            "Sesi admin Anda telah berakhir atau akses ditolak. Anda akan dialihkan ke halaman yang sesuai."
          );
          setTimeout(() => {
            if (isUserLoggedIn() && isPenyewa()) {
              window.location.href = "home.html";
            } else {
              window.location.href = "login.html";
            }
          }, 2000);
        }
      }, 30000);

      // Confirmation Modal Functions
      function showConfirmModal(title, message, onConfirm, onCancel = null) {
        const modal = document.getElementById("confirmModal");
        const titleElement = document.getElementById("confirmModalTitle");
        const messageElement = document.getElementById("confirmModalMessage");
        const confirmBtn = document.getElementById("confirmModalConfirm");
        const cancelBtn = document.getElementById("confirmModalCancel");

        // Set modal content
        titleElement.textContent = title;
        messageElement.textContent = message;

        // Show modal
        modal.classList.add("show");
        modal.style.display = "flex";

        // Handle confirm button
        confirmBtn.onclick = function () {
          hideConfirmModal();
          if (onConfirm) onConfirm();
        };

        // Handle cancel button
        cancelBtn.onclick = function () {
          hideConfirmModal();
          if (onCancel) onCancel();
        };

        // Handle click outside modal
        modal.onclick = function (e) {
          if (e.target === modal) {
            hideConfirmModal();
            if (onCancel) onCancel();
          }
        };

        // Handle escape key
        document.addEventListener("keydown", function (e) {
          if (e.key === "Escape") {
            hideConfirmModal();
            if (onCancel) onCancel();
          }
        });
      }

      function hideConfirmModal() {
        const modal = document.getElementById("confirmModal");
        modal.classList.remove("show");
        setTimeout(() => {
          modal.style.display = "none";
        }, 300);
      }
    </script>

    <!-- Confirmation Modal -->
    <div id="confirmModal" class="confirm-modal-overlay" style="display: none">
      <div class="confirm-modal">
        <div class="confirm-modal-header">
          <h4 id="confirmModalTitle">Konfirmasi</h4>
        </div>
        <div class="confirm-modal-body">
          <p id="confirmModalMessage">Apakah Anda yakin?</p>
        </div>
        <div class="confirm-modal-footer">
          <button id="confirmModalCancel" class="btn btn-secondary">
            Batal
          </button>
          <button id="confirmModalConfirm" class="btn btn-primary">Ya</button>
        </div>
      </div>
    </div>
  </body>
</html>
